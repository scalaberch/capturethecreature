function onDeviceReady(){_app.__init__();setTimeout(function(){_app.screens},5e3)}var _server={host:"http://capturethatcreature.ap01.aws.af.cm/Server",localhost:"/capturethecreature/Server",local:false,getLeaderBoardLocation:function(){if(this.local){return this.localhost+"/score/view/"}else{return this.host+"/score/view/"}},submitScoreLocation:function(){if(this.local){return this.localhost+"/score/add/"}else{return this.host+"/score/add/"}}};var _localStorage={db:null,init:function(){if(!window.openDatabase){console.log("Databases are not supported in this browser.");return}var e=openDatabase("CTCLocalDBFinal","1.0000","CTCLocalDatabase",65535);var t=this;e.transaction(function(e){e.executeSql("DROP TABLE TempScores ",function(){console.log("Query Null Data.")},function(){console.log("Query Error.")});e.executeSql("CREATE TABLE TempScores (ScoresId INTEGER NOT NULL PRIMARY KEY, Name TEXT, Score INTEGER, Date TEXT, Transmit TEXT) ",function(){console.log("Query Null Data.")},function(e){console.log(e)});e.executeSql("CREATE TABLE PhoneUser (Name TEXT)",function(){console.log("Query Null Data.")},function(e){console.log(e)})},function(e,t){console.log("Initial Transaction failed.")},this.successCallBack);this.db=e;return _localStorage.db},insertScore:function(e,t){if(this.db==null){return false}else{this.db.transaction(function(n){n.executeSql("INSERT INTO TempScores(Name, Score, Transmit) VALUES (?,?,?)",[e,t,"READY"],this.nullHandler,this.errorHandler)})}},wipeData:function(){if(this.db==null){return false}else{this.db.transaction(function(e){e.executeSql("DELETE FROM TempScores",[],this.nullHandler,this.errorHandler)})}},viewScores:function(){var e=[],t=this;_localStorage.db.transaction(function(n){n.executeSql("SELECT * FROM TempScores;",[],function(t,n){if(n!=null&&n.rows!=null){for(var r=0;r<n.rows.length;r++){e.push(n.rows.item(r))}}console.log(e)},t.errorHandler)},_localStorage.errorHandler,this.nullHandler)},nullHandler:function(){},errorHandler:function(e,t){console.log("Error: "+t.message+" code: "+t.code)},successCallBack:function(){console.log("SQL Action success!")}};var _facebook={init:function(){window.fbAsyncInit=function(){FB.init({appId:"783064738375108",status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src="//connect.facebook.net/en_US/all.js";i.parentNode.insertBefore(r,i)})(document,"script","facebook-jssdk")},postOnWall:function(){}};var _gamePlay={isPlaying:false,isShowing:false,isPaused:false,score:0,myGuess:[],level:3,target:null,gameLayer:null,playerStats:{showTimerOffset:3e3,showTimer:3e3/1e3,numberOfCorrectGuesses:0,initPlayerStats:function(){},reset:function(){_gamePlay.level=3;this.showTimerOffset=3e3;numberOfCorrectGuesses=0},update:function(){if(this.showTimerOffset>999){this.showTimerOffset-=166;this.showTimer=this.showTimerOffset/1e3}this.numberOfCorrectGuesses+=1;switch(this.numberOfCorrectGuesses){case 5:_gamePlay.level=4;break;case 10:_gamePlay.level=5;break;case 15:_gamePlay.level=6;break}}},startPlaying:function(){this.isPlaying=true},stopPlaying:function(){this.isPlaying=false},pauseGame:function(){_gamePlay.isPaused=true},resumeGame:function(){_gamePlay.isPaused=false},startGame:function(e){var t=null,n=_app.screens[1].find("#GAME_TIMER_TXT")[0];this.resetGameStats();this.playerStats.reset();if(_gamePlay.isPaused){_gamePlay.resumeGame()}_gamePlay.gameTimer.start(n,_app.screens[1]);this.executeGameShuffle()},stopGame:function(){this.stopPlaying();this.callEndGame()},executeGameShuffle:function(){if(!this.isPaused){this.target=_gamePlay.getRandomCharacter(0);_board.shuffleBoard(this.target,this.level);_board.printBoard();_animation.updateBoardLayers(_board.board);_animation.showWhatToFind(this.target);this.showAllBoardLayers();_animation.updateNumberPieces("standby")}},showAllBoardLayers:function(){this.isShowing=true;_animation.showAllBoardLayers()},getRandomCharacter:function(e){var t=_characters.length;var n;do{n=Math.floor(Math.random()*t)}while(n==e);return n},isMyGuessCorrect:function(e){return _board.checkIfGuessCorrect(e,this.target)},addToGuess:function(e){this.myGuess.push(e)},removeFromGuess:function(e){var t=this.myGuess.indexOf(e);this.myGuess.splice(t,1)},updateMyGuess:function(e){if(this.myGuess.indexOf(e)==-1){this.addToGuess(e);if(this.myGuess.length==this.playerStats.allowableClicks){var t=this.myGuess.map(function(e){return parseInt(e,10)});this.myGuess=t;return true}else{return false}}else{this.removeFromGuess(e);return false}},callEndGame:function(){_localStorage.insertScore("Player Name",this.score);_animation.endGameAnimations()},addUpToScore:function(e){var t=this.score,n=t+_characters[e].value*this.level;this.score=n;console.log(this.score);_animation.updateScore(t,n)},gameTimer:{time:2,timer:null,start:function(e,t){if(!_gamePlay.isPlaying){this.timer=setInterval(function(){_gamePlay.gameTimer.tiktok(e,t)},1e3);_gamePlay.startPlaying()}},stop:function(){if(this.timer!=null){clearInterval(this.timer);this.timer=null}else{console.log("timer is: "+this.timer)}_gamePlay.stopGame()},tiktok:function(e,t){if(_gamePlay.isPaused){}else if(_gamePlay.isShowing){if(_gamePlay.playerStats.showTimer<0){_animation.hideAllBoardLayers();_gamePlay.playerStats.showTimer=_gamePlay.playerStats.showTimerOffset/1e3;_gamePlay.isShowing=false}else{_gamePlay.playerStats.showTimer--}}else{console.log(this.timer);this.time--;this.updateToGUI(this.showInFormat(this.time),e,t);if(this.time==0){this.stop()}}},showInFormat:function(e){var t=Math.floor(e/60)+":";if(e%60<10){t+="0"}return t+e%60+""},updateToGUI:function(e,t,n){t.text(e);n.draw();_animation.updateTimerBar(n)}},resetGameStats:function(){this.score=0;this.gameTimer.time=2;_animation.resetTimerBar()},shareToFacebook:function(){var e=[];_localStorage.db.transaction(function(e){e.executeSql("SELECT * FROM TempScores;",[],function(e,t){var n="";if(t!=null&&t.rows!=null){for(var r=0;r<t.rows.length;r++){var i=t.rows.item(r).Name;var s=t.rows.item(r).Score;n+='{"name":"'+i+'","score":'+s+"}#"}}n+="{}#{}";console.log(n);var o=$.ajax({url:_server.submitScoreLocation(),type:"POST",data:{scores:n}});o.fail(function(){console.log("Could not connect to the server. Please try again.")});o.success(function(e){console.log("Receiving response...");console.log(e);_localStorage.wipeData()})},_localStorage.errorHandler)},_localStorage.errorHandler,_localStorage.nullHandler)}};var __player={_data:{name:"Player Name",score:0,fbToken:null},getPlayerName:function(){return __player._data.name},setPlayerName:function(e){this._data.name=e}};var _fb={fb:null,ifFbLogin:function(){if(this.fb==null){return false}else{return true}},init:function(){}};var _board={board:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],printBoard:function(){var e="";for(var t=0;t<this.boardSize();t++){e+=this.board[t];if((t+1)%4==0&&t!=0){e+="\n"}}console.log(e)},boardSize:function(){return this.board.length},assignToBoard:function(e,t){this.board[e]=t},cleanBoard:function(){for(var e=0;e<this.boardSize();e++){this.assignToBoard(e,0)}},shuffleBoard:function(e,t){var n=[];var r=t;var i=0;this.cleanBoard();for(var s=0;s<r;s++){do{var o=this.boardSize();i=Math.floor(Math.random()*o)}while(n.indexOf(i)!=-1);console.log("Has new place! At "+i);this.assignToBoard(i,e);n[s]=i}for(var u=0;u<this.boardSize();u++){do{var a=Math.floor(Math.random()*_characters.length)}while(a==e||a==0);var f=a;if(n.indexOf(u)==-1){this.assignToBoard(u,f)}}this.printBoard();return this.board},checkIfGuessCorrect:function(e,t){console.log("Checking "+e+" for obj:"+t);var n=true,r=this.board;var i=e.sort(),s;while(n&&e.length>0){s=e.pop();if(r[s]!=t){n=false}}return n}};var _characters=[{name:"NONE",value:0,img:"path_to_image/here",imgAlt:"",color:"black"},{name:"cheekee",value:10,img:"path_to_image/here",imgAlt:"",color:"red"},{name:"chaakee",value:12,img:"path_to_image/here",imgAlt:"",color:"yellow"},{name:"chuukee",value:12,img:"path_to_image/here",imgAlt:"",color:"blue"},{name:"doge",value:40,img:"path_to_image/here",imgAlt:"",color:"brown"}];var _player={level:1,storePlayerData:function(){},getFBCredentials:function(e,t){}};var _app={BACKGROUND_MAIN_MENU:0,PAUSE_MENU:4,font:"Trebuchet MS",subFont:"Trebuchet MS",app:null,screens:[],resources:{__init:function(){console.log("Loading resources...");this.mainMenuBackground=new Image;this.mainMenuBackground.src="img/BG.png";this.gameScreenBackground=new Image;this.gameScreenBackground.src="img/gameBG.png";this.gameBackground=new Image;this.gameBackground.src="img/background.jpg";this.__loadCharImages();this.readyImage=new Image;this.readyImage.src="img/ready.png";this.setImage=new Image;this.setImage.src="img/set.png";this.goImage=new Image;this.goImage.src="img/go.png";this.gameOverImage=new Image;this.gameOverImage.src="img/gameover.png";this.calloutImage=new Image;this.calloutImage.src="img/callout.png"},__loadCharImages:function(){var e,t,n;for(var r=1;r<_characters.length;r++){e=new Image;t=new Image;n="img/chars/"+_characters[r].name+".png";e.src=n;_characters[r].img=e;n="img/chars/cheekee_catch.png";t.src=n;_characters[r].imgAlt=t}},mainMenuBackground:null,gameScreenBackground:null,gameBackground:null,readyImage:null,setImage:null,goImage:null,gameOverImage:null,calloutImage:null},__init__:function(){_localStorage.init();var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];var i=e.innerWidth||n.clientWidth||r.clientWidth,s=e.innerHeight||n.clientHeight||r.clientHeight;this.app=new Kinetic.Stage({container:"gameContainer",width:i,height:s});var o=this.initBackgroundMainMenu(i,s);this.app.add(o);var u=this.initGameStatsLayer(i,s);this.app.add(u);var a=this.initGameBoardLayer(i,s);this.app.add(a);var f={cols:4,rows:5,x:i*.01,y:s*.07,width:(i-i*.04)/4,height:(s-s*.28)/5};var l,c,h=[],p=0;for(var d=0;d<f.rows;d++){for(var v=0;v<f.cols;v++){l=new Kinetic.Layer({x:f.x,y:f.y,width:f.width,height:f.height,id:p});var m=new Kinetic.Group({x:l.x(),y:l.y(),width:l.width(),height:l.height()});var g,y;g=new Kinetic.Image;y=new Kinetic.Image;m.add(g);m.add(y);l.add(m);var c=new Kinetic.Rect({x:l.x(),y:l.y(),width:l.width(),height:l.height(),fill:"#86ab5e",stroke:"white",cornerRadius:l.width()*.08,strokeWidth:1,dash:[5,5]});l.add(c);l.visible(false);l.on("touchend",function(e){if(_gamePlay.isPlaying&&!_gamePlay.isShowing&&!_gamePlay.isPaused){var t=e.targetNode.getLayer().children[1];if(_gamePlay.myGuess.indexOf(e.targetNode.getLayer().id())==-1){t.opacity(0);_gamePlay.addToGuess(e.targetNode.getLayer().id());e.targetNode.getLayer().draw();if(_gamePlay.myGuess.length==_gamePlay.level){setTimeout(function(){if(_gamePlay.isMyGuessCorrect(_gamePlay.myGuess)){_animation.updateNumberPieces("positive");_gamePlay.playerStats.update();_gamePlay.addUpToScore(_gamePlay.target);_gamePlay.executeGameShuffle()}else{_animation.updateNumberPieces("negative");_gamePlay.showAllBoardLayers()}_gamePlay.myGuess=[]},500)}}else{}}}).on("touchstart",function(e){if(_gamePlay.isPlaying){}});h.push(l);this.app.add(l);f.x+=f.width/2;p++}f.x=i*.01;f.y+=f.height/2}var b=this.initGameBottomLayer(i,s);this.app.add(b);var w=this.initLeaderBoardLayer(i,s);this.app.add(w);var E=this.initCountDownLayer(i,s);this.app.add(E);var S=this.initFindMeLayer(i,s);this.app.add(S);var x=this.initFindMeSwingingLayer(i,s);this.app.add(x);var T=this.initPostGameLayer(i,s);this.app.add(T);var N=this.initPauseMenu(i,s);this.app.add(N);var C=this.initHelpMessage(i,s);this.app.add(C);this.screens=[o,u,a,w,N,h,b,E,S,x,T,C]},appWidth:function(){return this.app.width()},appHeight:function(){return this.app.height()},initLoadingScreen:function(e,t){var n=new Kinetic.Layer({width:e,height:t,x:0,y:0,id:"LOADING_SCREEN_MENU_LAYER"});return n},initBackgroundMainMenu:function(e,t){var n=new Kinetic.Layer({width:e,height:t*2,x:0,y:0,id:"BACKGROUND_MENU_LAYER"});var r=new Kinetic.Image({image:this.resources.gameBackground,width:n.width(),height:n.height()});n.add(r);var i=new Kinetic.Group({width:e*.6,height:t*.3,x:e*.2,y:t*.55,id:"START_BTN"});var s=new Kinetic.Rect({width:i.width(),height:t*.11,x:0,y:15,fill:"#9b8f82",cornerRadius:i.width()*.13});i.add(s);var o=new Kinetic.Rect({width:i.width(),height:t*.1,x:0,y:0,fill:"#ffe284",cornerRadius:i.width()*.13});i.add(o);var u=new Kinetic.Rect({width:i.width(),height:t*.1,x:0,y:5,fill:"#ffc14d",cornerRadius:i.width()*.13});i.add(u);var a=new Kinetic.Text({width:u.width(),height:u.height(),x:u.x(),y:u.y()+8,text:"PLAY GAME",fill:"white",fontSize:30,fontFamily:_app.font,align:"center"});i.add(a);i.on("touchstart",function(e){var t=_app.screens[0].find("#START_BTN")[0];t.children[1].y(t.children[1].y()+10);t.children[2].y(t.children[2].y()+10);t.children[3].y(t.children[3].y()+10);_app.screens[0].draw()}).on("touchend",function(e){var t=_app.screens[0].find("#START_BTN")[0];t.children[1].y(t.children[1].y()-10);t.children[2].y(t.children[2].y()-10);t.children[3].y(t.children[3].y()-10);_app.screens[0].draw();_animation.animateNewGame()});var f=new Kinetic.Group({width:e*.3,height:t*.3,x:e*.2,y:t*.7,id:"LEADERBOARD_BTN"});var s=new Kinetic.Rect({width:f.width(),height:t*.1,x:0,y:15,fill:"#9b8f82",cornerRadius:f.width()*2*.13});f.add(s);var o=new Kinetic.Rect({width:f.width(),height:t*.1,x:0,y:0,fill:"#ffe284",cornerRadius:f.width()*2*.13});f.add(o);var u=new Kinetic.Rect({width:f.width(),height:t*.1,x:0,y:5,fill:"#ffc14d",cornerRadius:f.width()*2*.13});f.add(u);var a=new Kinetic.Text({width:u.width(),height:u.height(),x:u.x(),y:u.y()+12,text:"SCORES",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});f.add(a);f.on("touchstart",function(e){var t=_app.screens[0].find("#LEADERBOARD_BTN")[0];t.children[1].y(t.children[1].y()+6);t.children[2].y(t.children[2].y()+6);t.children[3].y(t.children[3].y()+6);_app.screens[0].draw()}).on("touchend",function(e){var t=_app.screens[0].find("#LEADERBOARD_BTN")[0];t.children[1].y(t.children[1].y()-6);t.children[2].y(t.children[2].y()-6);t.children[3].y(t.children[3].y()-6);_app.screens[0].draw();_app.screens[3].find("#leaderBoardContainerScores")[0].opacity(0);_app.screens[3].find("#leaderBoardContentMsg")[0].opacity(1);_app.screens[3].find("#leaderBoardContentMsg")[0].text("LOADING LEADERBOARD...");_app.screens[3].draw();_animation.slideLeaderBoardDown();var n;setTimeout(function(){n=$.ajax({url:_server.getLeaderBoardLocation(),dataType:"json"});n.fail(function(e,t){_app.screens[3].find("#leaderBoardContentMsg")[0].text("Unable to connect to server. Check your network connection and please try again.");_app.screens[3].draw();console.log(e);console.log(t)});n.success(function(e){console.log(e);_app.screens[3].find("#leaderBoardContentMsg")[0].opacity(0);var t=_app.screens[3].find("#leaderBoardContainerScores")[0];var n=2;for(var r=0;r<e.length;r++){console.log(e[r]);t.children[n].children[0].text(e[r].name);t.children[n].children[1].text(e[r].score);n++}_app.screens[3].find("#leaderBoardContainerScores")[0].opacity(1);_app.screens[3].draw()})},1e3)});var l=new Kinetic.Group({width:e*.3,height:t*.3,x:e*.51,y:t*.7,id:"HELP_BTN"});var s=new Kinetic.Rect({width:l.width(),height:t*.1,x:0,y:15,fill:"#9b8f82",cornerRadius:l.width()*2*.13});l.add(s);var o=new Kinetic.Rect({width:l.width(),height:t*.1,x:0,y:0,fill:"#d6d6d6",cornerRadius:l.width()*2*.13});l.add(o);var u=new Kinetic.Rect({width:l.width(),height:t*.1,x:0,y:5,fill:"#b8b8b8",cornerRadius:l.width()*2*.13});l.add(u);var a=new Kinetic.Text({width:u.width(),height:u.height(),x:u.x(),y:u.y()+12,text:"HELP",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});l.add(a);l.on("touchstart",function(e){var t=_app.screens[0].find("#HELP_BTN")[0];t.children[1].y(t.children[1].y()+6);t.children[2].y(t.children[2].y()+6);t.children[3].y(t.children[3].y()+6);_app.screens[0].draw()}).on("touchend",function(e){var t=_app.screens[0].find("#HELP_BTN")[0];t.children[1].y(t.children[1].y()-6);t.children[2].y(t.children[2].y()-6);t.children[3].y(t.children[3].y()-6);_app.screens[0].draw();_animation.slideHelpViewDown()});n.add(i);n.add(f);n.add(l);return n},initGameStatsLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.1,x:0,y:0-t*.1,id:"GAME_STATS_LAYER"});var r=new Kinetic.Group({width:n.width()*.96,height:n.height(),x:e*.02,y:0});var i=new Kinetic.Rect({width:r.width(),height:r.height()*.88,x:0,y:5,cornerRadius:e*.01,fill:"#7a726a"});r.add(i);i=new Kinetic.Rect({width:r.width(),height:r.height()*.8,x:0,y:0,cornerRadius:e*.01,fill:"#ffe284"});r.add(i);i=new Kinetic.Rect({width:r.width(),height:r.height()*.8,x:0,y:2,cornerRadius:e*.01,fill:"#ffc14d"});r.add(i);n.add(r);var s=new Kinetic.Text({text:"0:00",fontSize:24,fontFamily:_app.font,fill:"white",id:"GAME_TIMER_TXT",x:e*.03,y:2});n.add(s);var o=new Kinetic.Text({text:"00000",fontSize:24,fontFamily:_app.font,fill:"white",id:"GAME_SCORE_TXT",align:"right",x:n.width()-n.width()*.24,y:2});n.add(o);var u=new Kinetic.Rect({x:e*.04,y:s.height()+3,height:5,width:n.width()*.92,fill:"#7a726a",stroke:"#7a726a",id:"TIMER_BAR_PARENT"});n.add(u);var a=new Kinetic.Rect({x:e*.04,y:s.height()+3,height:5,width:u.width(),fill:"white",stroke:"white",id:"TIMER_BAR"});n.add(a);_animation.timerBarOffset=a.width()/_gamePlay.gameTimer.time;return n},initGameBoardLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.75,x:0,y:t*.13,id:"GAME_BOARD_LAYER"});var r=new Kinetic.Rect({width:n.width(),height:n.height(),x:0,y:0,stroke:"#29230b",strokeWidth:3});return n},initLeaderBoardLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t,x:0,y:0,id:"LEADERBOARD_LAYER"});var r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.84,x:n.width()*.1,y:n.height()*.1,cornerRadius:n.width()*.03,fill:"#7a726a"});n.add(r);r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.79,x:n.width()*.1,y:n.height()*.09,cornerRadius:n.width()*.03,fill:"#d8bfa3"});n.add(r);r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.79,x:n.width()*.1,y:n.height()*.1,cornerRadius:n.width()*.03,fill:"#9b8f82"});n.add(r);var i=new Kinetic.Text({width:r.width(),height:r.height(),x:r.x(),y:r.y()+8,text:"LEADERBOARD",fill:"white",fontSize:30,fontFamily:_app.font,align:"center"});n.add(i);var s=new Kinetic.Text({text:"LOADING LEADERBOARD...",fill:"#ddd",fontSize:24,fontFamily:_app.font,align:"center",width:r.width(),id:"leaderBoardContentMsg",x:r.x(),y:r.height()*.5});n.add(s);var o=new Kinetic.Group({width:r.width()*.95,height:r.height(),x:r.width()*.15,y:r.height()*.3,id:"leaderBoardContainerScores",opacity:0});var u=new Kinetic.Text({text:"PLAYER NAME",fill:"#ddd",fontSize:24,fontFamily:_app.font,align:"left",width:o.width(),x:0,y:0});o.add(u);u=new Kinetic.Text({text:"SCORE",fill:"#ddd",fontSize:24,fontFamily:_app.font,align:"right",width:o.width(),x:0,y:0});o.add(u);var a,f,l,c,h;var p=u.height(),d;for(var v=0;v<10;v++){l="";a=new Kinetic.Group;c=new Kinetic.Text({text:l,fill:"#ddd",fontSize:24,fontFamily:_app.font,align:"left",width:o.width(),x:0,y:p});a.add(c);h=new Kinetic.Text({text:l,fill:"#ddd",fontSize:24,fontFamily:_app.font,align:"right",width:o.width(),x:0,y:p});a.add(h);o.add(a);p+=u.height()}n.add(o);var m=new Kinetic.Group({x:n.width()*.5,y:n.height()*.8,id:"LEADERBOARD_CLOSE_BTN"}),g=new Kinetic.Circle({radius:n.width()*.07,fill:"#7a726a",x:0,y:10});m.add(g);g=new Kinetic.Circle({radius:n.width()*.07,fill:"#ffe284",x:0,y:0});m.add(g);g=new Kinetic.Circle({radius:n.width()*.07,fill:"#ffc14d",x:0,y:3});m.add(g);m.on("touchend",function(e){var t=_app.screens[3].find("#LEADERBOARD_CLOSE_BTN")[0];t.children[1].y(t.children[1].y()-4);t.children[2].y(t.children[2].y()-4);_app.screens[3].draw();_animation.slideLeaderBoardUp()}).on("touchstart",function(e){var t=_app.screens[3].find("#LEADERBOARD_CLOSE_BTN")[0];t.children[1].y(t.children[1].y()+4);t.children[2].y(t.children[2].y()+4);_app.screens[3].draw()});n.add(m);n.y(0-n.height());return n},initHelpMessage:function(e,t){var n=new Kinetic.Layer({width:e,height:t,x:0,y:0});var r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.84,x:n.width()*.1,y:n.height()*.1,cornerRadius:n.width()*.03,fill:"#7a726a"});n.add(r);r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.79,x:n.width()*.1,y:n.height()*.09,cornerRadius:n.width()*.03,fill:"#d8bfa3"});n.add(r);r=new Kinetic.Rect({width:n.width()*.8,height:n.height()*.79,x:n.width()*.1,y:n.height()*.1,cornerRadius:n.width()*.03,fill:"#9b8f82"});n.add(r);var i=new Kinetic.Text({width:r.width(),height:r.height(),x:r.x(),y:r.y()+8,text:"HOW TO PLAY",fill:"white",fontSize:30,fontFamily:_app.font,align:"center"});n.add(i);var s="Tap the characters to play. You are given two minutes to solve the game.";var o=new Kinetic.Text({text:s,fill:"#ddd",fontSize:17,fontFamily:_app.font,align:"center",width:r.width(),x:r.x(),y:r.height()*.3});n.add(o);var u=new Kinetic.Group({x:n.width()*.35,y:n.height()*.75,id:"HELP_CLOSE_BTN"}),a=new Kinetic.Rect({width:n.width()*.3,height:n.height()*.082,fill:"#7a726a",x:0,y:13,cornerRadius:n.width()*.03});u.add(a);a=new Kinetic.Rect({width:n.width()*.3,height:n.height()*.065,fill:"#ffe284",x:0,y:10,cornerRadius:n.width()*.03});u.add(a);a=new Kinetic.Rect({width:n.width()*.3,height:n.height()*.065,fill:"#ffc14d",x:0,y:12,cornerRadius:n.width()*.03});u.add(a);var f=new Kinetic.Text({text:"CLOSE",x:0,y:22,width:n.width()*.3,height:n.height()*.065,align:"center",fill:"white"});u.add(f);u.on("touchend",function(e){var t=_app.screens[11].find("#HELP_CLOSE_BTN")[0];t.children[1].y(t.children[1].y()-3);t.children[2].y(t.children[2].y()-3);t.children[3].y(t.children[3].y()-3);_app.screens[11].draw();_animation.slideHelpViewUp()}).on("touchstart",function(e){var t=_app.screens[11].find("#HELP_CLOSE_BTN")[0];t.children[1].y(t.children[1].y()+3);t.children[2].y(t.children[2].y()+3);t.children[3].y(t.children[3].y()+3);_app.screens[11].draw()});n.add(u);n.y(0-n.height());return n},initGameBottomLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.12,x:0,y:t*.92});var r=new Kinetic.Group({x:n.width()*.9,y:0,width:n.width()*.15,height:n.height()*.8,id:"GAME_PAUSE_BTN"});var i=new Kinetic.Circle({radius:n.width()*.07,fill:"#7a726a",x:0,y:10});r.add(i);i=new Kinetic.Circle({radius:n.width()*.07,fill:"#ffe284",x:0,y:0});r.add(i);i=new Kinetic.Circle({radius:n.width()*.07,fill:"#ffc14d",x:0,y:3});r.add(i);var s=new Kinetic.Rect({width:r.height()*.2,height:r.height()*.5,x:0+r.width()*.03,y:0-r.height()*.23,fill:"#7a726a"});r.add(s);s=new Kinetic.Rect({width:r.height()*.2,height:r.height()*.5,x:0-r.width()*.23,y:0-r.height()*.23,fill:"#7a726a"});r.add(s);r.on("touchend",function(e){if(_gamePlay.isPlaying){var t=_app.screens[6].find("#GAME_PAUSE_BTN")[0];t.children[1].y(t.children[1].y()-4);t.children[2].y(t.children[2].y()-4);t.children[3].y(t.children[3].y()-4);t.children[4].y(t.children[4].y()-4);_app.screens[6].draw();_gamePlay.pauseGame();var n=_app.screens[_app.PAUSE_MENU];n.y(0);n.draw()}}).on("touchstart",function(e){if(_gamePlay.isPlaying){var t=_app.screens[6].find("#GAME_PAUSE_BTN")[0];t.children[1].y(t.children[1].y()+4);t.children[2].y(t.children[2].y()+4);t.children[3].y(t.children[3].y()+4);t.children[4].y(t.children[4].y()+4);_app.screens[6].draw()}});n.add(r);n.visible(false);return n},initPauseMenu:function(e,t){var n=new Kinetic.Layer({width:e,height:t,x:0,y:0});var r=new Kinetic.Rect({width:n.width(),height:n.height(),x:0,y:0,fill:"black",opacity:.6});n.add(r);var i=new Kinetic.Group({width:e*.8,height:t*.5,x:e*.1,y:t*.25,id:"PAUSE_MENU_LAYER"});var s=new Kinetic.Rect({width:i.width(),height:i.height(),x:0,y:3,cornerRadius:i.width()*.03,fill:"#7a726a"});i.add(s);s=new Kinetic.Rect({width:i.width(),height:i.height()*.95,x:0,y:0,cornerRadius:i.width()*.03,fill:"#d8bfa3"});i.add(s);s=new Kinetic.Rect({width:i.width(),height:i.height()*.95,x:0,y:3,cornerRadius:i.width()*.03,fill:"#9b8f82"});i.add(s);var o=new Kinetic.Text({width:i.width(),height:i.height(),x:0,y:3,text:"GAME PAUSED",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});i.add(o);var u=new Kinetic.Group({width:i.width()*.9,height:i.height()*.2,x:i.width()*.05,y:i.height()*.2,id:"PAUSE_MENU_CONT_BTN"}),a;s=new Kinetic.Rect({width:u.width(),height:u.height()*.9,x:0,y:5,cornerRadius:u.width()*.05,fill:"#7a726a"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:0,cornerRadius:u.width()*.05,fill:"#ffe284"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:2,cornerRadius:u.width()*.05,fill:"#ffc14d"});u.add(s);a=new Kinetic.Text({width:u.width(),height:u.height(),x:0,y:8,text:"CONTINUE",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});u.add(a);u.on("touchend",function(e){var t=_app.screens[4].find("#PAUSE_MENU_CONT_BTN")[0];t.children[1].y(t.children[1].y()-4);t.children[2].y(t.children[2].y()-4);t.children[3].y(t.children[3].y()-4);_app.screens[4].draw();_animation.hidePauseMenu(e.targetNode.getLayer());_gamePlay.resumeGame()}).on("touchstart",function(e){var t=_app.screens[4].find("#PAUSE_MENU_CONT_BTN")[0];t.children[1].y(t.children[1].y()+4);t.children[2].y(t.children[2].y()+4);t.children[3].y(t.children[3].y()+4);_app.screens[4].draw()});i.add(u);u=new Kinetic.Group({width:i.width()*.9,height:i.height()*.2,x:i.width()*.05,y:i.height()*.43,id:"PAUSE_MENU_RESTART_BTN"}),a;s=new Kinetic.Rect({width:u.width(),height:u.height()*.9,x:0,y:5,cornerRadius:u.width()*.05,fill:"#7a726a"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:0,cornerRadius:u.width()*.05,fill:"#ffe284"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:2,cornerRadius:u.width()*.05,fill:"#ffc14d"});u.add(s);a=new Kinetic.Text({width:u.width(),height:u.height(),x:0,y:8,text:"RESTART",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});u.add(a);u.on("touchend",function(e){var t=_app.screens[4].find("#PAUSE_MENU_RESTART_BTN")[0];t.children[1].y(t.children[1].y()-4);t.children[2].y(t.children[2].y()-4);t.children[3].y(t.children[3].y()-4);_app.screens[4].draw();_gamePlay.isPaused=true;_animation.hidePauseMenu(e.targetNode.getLayer());_animation.updateScore(0,0);_animation.animateCountDown();_gamePlay.resumeGame()}).on("touchstart",function(e){var t=_app.screens[4].find("#PAUSE_MENU_RESTART_BTN")[0];t.children[1].y(t.children[1].y()+4);t.children[2].y(t.children[2].y()+4);t.children[3].y(t.children[3].y()+4);_app.screens[4].draw()});i.add(u);u=new Kinetic.Group({width:i.width()*.9,height:i.height()*.2,x:i.width()*.05,y:i.height()*.66,id:"PAUSE_MENU_QUIT_BTN"}),a;s=new Kinetic.Rect({width:u.width(),height:u.height()*.9,x:0,y:5,cornerRadius:u.width()*.05,fill:"#7a726a"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:0,cornerRadius:u.width()*.05,fill:"#ffe284"});u.add(s);s=new Kinetic.Rect({width:u.width(),height:u.height()*.8,x:0,y:2,cornerRadius:u.width()*.05,fill:"#ffc14d"});u.add(s);a=new Kinetic.Text({width:u.width(),height:u.height(),x:0,y:8,text:"QUIT GAME",fill:"white",fontSize:24,fontFamily:_app.font,align:"center"});u.add(a);u.on("touchend",function(e){var t=_app.screens[4].find("#PAUSE_MENU_QUIT_BTN")[0];t.children[1].y(t.children[1].y()-4);t.children[2].y(t.children[2].y()-4);t.children[3].y(t.children[3].y()-4);_app.screens[4].draw();_animation.hidePauseMenu(e.targetNode.getLayer());_animation.updateScore(0,0);_animation.backToMainMenu()}).on("touchstart",function(e){var t=_app.screens[4].find("#PAUSE_MENU_QUIT_BTN")[0];t.children[1].y(t.children[1].y()+4);t.children[2].y(t.children[2].y()+4);t.children[3].y(t.children[3].y()+4);_app.screens[4].draw()});i.add(u);n.add(i);n.y(0-n.height());return n},initCountDownLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.25,x:0,y:t*.17});var r=new Kinetic.Image({width:n.width(),height:n.height(),x:n.x(),y:n.y(),id:"READY_TXT",image:_app.resources.readyImage});r.visible(false);n.add(r);r=new Kinetic.Image({width:n.width(),height:n.height(),x:n.x(),y:n.y(),id:"SET_TXT",image:_app.resources.setImage});r.visible(false);n.add(r);r=new Kinetic.Image({width:n.width(),height:n.height(),x:n.x(),y:n.y(),id:"GO_TXT",image:_app.resources.goImage});r.visible(false);n.add(r);r=new Kinetic.Image({width:n.width(),height:n.height(),x:n.x(),y:n.y(),id:"GAME_OVER_TXT",image:_app.resources.gameOverImage});r.visible(false);n.add(r);n.visible(false);return n},initFindMeLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.12,x:0,y:t*.88});var r=new Kinetic.Rect({width:n.width()*.36,height:n.height(),x:0,y:0,fill:"#ac7441",stroke:"#29230b",strokeWidth:3});var i=new Kinetic.Image({width:n.width()*.25,height:n.height(),x:n.width()*.025,y:0,id:"TARGET_IMG"});n.add(i);var s=new Kinetic.Group({id:"BOTTOM_CALLOUT",x:n.width()*.26,y:0-n.height()*.12,width:n.width()*.8,height:n.height()*1});var o=new Kinetic.Image({image:_app.resources.calloutImage,width:s.width()*.65,height:s.height()*1});s.add(o);var u=new Kinetic.Text({text:"This is a text.",fontSize:20,fontFamily:_app.font,fill:"white",id:"TIMES_TEXT",align:"right",x:s.width()*.1,y:s.height()*.15});s.add(u);n.add(s);n.visible(false);return n},initFindMeSwingingLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t*.12,x:0,y:t*.88});var r=new Kinetic.Text({text:"find me!",fontSize:24,fontFamily:"bubbleboddy",fill:"#29230b",align:"right",x:n.width()*.38,y:n.height()*.2,padding:3});var i=new Kinetic.Shape({x:0,y:0,sceneFunc:function(e){e.beginPath();e.moveTo(n.width()*.39,n.height()*.26);e.lineTo(n.width()*.37,n.height()*.55);e.lineTo(n.width()*.3,n.height()*.44);e.closePath();e.fillStrokeShape(this)},fill:"#ac7441"});var s=new Kinetic.Rect({width:n.width()*.3,height:r.height(),x:n.width()*.37,y:n.height()*.2,fill:"#ac7441",cornerRadius:8});n.visible(false);return n},initPostGameLayer:function(e,t){var n=new Kinetic.Layer({width:e,height:t,x:0,y:0,id:"POST_GAME_LAYER"});n.y(0-n.height());var r=new Kinetic.Group({width:e*.8,height:t*.4,x:(e-e*.8)/2,y:(t-t*.4)/2,id:"POST_GAME_CONT"});var i=new Kinetic.Rect({width:n.width(),height:n.height(),x:0,y:0,fill:"black",opacity:.6});var s=new Kinetic.Rect({width:r.width(),height:r.height()*.88,x:0,y:5,cornerRadius:e*.04,fill:"#7a726a"});r.add(s);s=new Kinetic.Rect({width:r.width(),height:r.height()*.8,x:0,y:0,cornerRadius:e*.04,fill:"#d8bfa3"});r.add(s);s=new Kinetic.Rect({width:r.width(),height:r.height()*.8,x:0,y:2,cornerRadius:e*.04,fill:"#9b8f82"});r.add(s);var o=new Kinetic.Text({x:0,y:3,width:r.width(),height:r.height(),text:"Game Over!",fill:"white",align:"center",fontSize:24,fontFamily:_app.subFont});r.add(o);var u=new Kinetic.Text({x:0,y:r.height()*.3,width:r.width(),height:r.height(),text:"Your score is 00000 pts!",fill:"white",align:"center",fontSize:20,fontFamily:_app.subFont,id:"END_GAME_SCORE_TXT"});r.add(u);var a=r.width()*.3,f=r.height()*.18;var l=new Kinetic.Group({x:r.width()*.03,y:r.height()*.6,width:a,height:f,id:"END_GAME_PLAY_AGAIN"}),c=new Kinetic.Rect({x:0,y:0,fill:"blue",width:l.width(),height:l.height()}),h=new Kinetic.Text({x:0,y:l.height()*.25,text:"Play Again?",width:c.width(),fontFamily:_app.subFont,height:c.height(),fill:"white",align:"center",fontSize:12});var p=new Kinetic.Rect({width:l.width(),height:l.height()-3,x:0,y:3,cornerRadius:e*.02,fill:"#7a726a"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:0,cornerRadius:e*.02,fill:"#ffe284"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:l.height()*.05,cornerRadius:e*.02,fill:"#ffc14d"});l.add(p);l.add(h);l.on("touchstart",function(e){var t=_app.screens[10].find("#END_GAME_PLAY_AGAIN")[0];t.children[1].y(t.children[1].y()+3);t.children[2].y(t.children[2].y()+3);t.children[3].y(t.children[3].y()+3);_app.screens[10].draw()}).on("touchend",function(e){var t=_app.screens[10].find("#END_GAME_PLAY_AGAIN")[0];t.children[1].y(t.children[1].y()-3);t.children[2].y(t.children[2].y()-3);t.children[3].y(t.children[3].y()-3);_app.screens[10].draw();_animation.slidePostGameUp();_animation.updateScore(0,0)});r.add(l);l=new Kinetic.Group({x:a+r.width()*.05,y:r.height()*.6,width:a,height:f,id:"END_GAME_SHARE_BTN"}),c=new Kinetic.Rect({x:0,y:0,fill:"blue",width:l.width(),height:l.height()}),h=new Kinetic.Text({x:0,y:l.height()*.25,text:"Share Score!",width:c.width(),fontFamily:_app.subFont,height:c.height(),fill:"white",align:"center"});p=new Kinetic.Rect({width:l.width(),height:l.height()-3,x:0,y:3,cornerRadius:e*.02,fill:"#7a726a"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:0,cornerRadius:e*.02,fill:"#94c1f7"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:l.height()*.05,cornerRadius:e*.02,fill:"#477ec1"});l.add(p);l.add(h);l.on("touchstart",function(e){var t=_app.screens[10].find("#END_GAME_SHARE_BTN")[0];t.children[1].y(t.children[1].y()+3);t.children[2].y(t.children[2].y()+3);t.children[3].y(t.children[3].y()+3);_app.screens[10].draw()}).on("touchend",function(e){var t=_app.screens[10].find("#END_GAME_SHARE_BTN")[0];t.children[1].y(t.children[1].y()-3);t.children[2].y(t.children[2].y()-3);t.children[3].y(t.children[3].y()-3);_app.screens[10].draw();_gamePlay.shareToFacebook()});r.add(l);l=new Kinetic.Group({x:a*2+r.width()*.075,y:r.height()*.6,width:a,height:f,id:"END_GAME_BACK_BTN"}),c=new Kinetic.Rect({x:0,y:0,fill:"blue",width:l.width(),height:l.height()}),h=new Kinetic.Text({x:0,y:l.height()*.25,text:"Back to Menu",width:c.width(),fontFamily:_app.subFont,height:c.height(),fill:"white",align:"center"});p=new Kinetic.Rect({width:l.width(),height:l.height()-3,x:0,y:3,cornerRadius:e*.02,fill:"#7a726a"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:0,cornerRadius:e*.02,fill:"#d6d6d6"});l.add(p);p=new Kinetic.Rect({width:l.width(),height:l.height()*.8,x:0,y:l.height()*.05,cornerRadius:e*.02,fill:"#b8b8b8"});l.add(p);l.add(h);l.on("touchstart",function(e){var t=_app.screens[10].find("#END_GAME_BACK_BTN")[0];t.children[1].y(t.children[1].y()+3);t.children[2].y(t.children[2].y()+3);t.children[3].y(t.children[3].y()+3);_app.screens[10].draw()}).on("touchend",function(e){var t=_app.screens[10].find("#END_GAME_BACK_BTN")[0];t.children[1].y(t.children[1].y()-3);t.children[2].y(t.children[2].y()-3);t.children[3].y(t.children[3].y()-3);_app.screens[10].draw();_animation.hidePostGame();_animation.backToMainMenu();_animation.updateScore(0,0)});r.add(l);n.add(r);return n}};var _animation={timerTextObject:null,timerBarOffset:null,counter:0,animateNewGame:function(){var e=_app.screens[0];this.slideMainMenuUp(e)},slideMainMenuUp:function(e){var t=0-e.height()/2;var n=new Kinetic.Tween({node:e,duration:1,y:t,easing:Kinetic.Easings.BounceEaseOut,onFinish:function(){_animation.slideStatsPaneIn()}});n.play()},slideStatsPaneIn:function(){var e=_app.screens[1];var t=new Kinetic.Tween({node:e,duration:1,y:e.getParent().height()*.025,easing:Kinetic.Easings.BounceEaseOut,onFinish:function(){_animation.animateClickables()}});t.play()},slideLeaderBoardDown:function(){var e=_app.screens[3];var t=new Kinetic.Tween({node:e,duration:1,y:0,easing:Kinetic.Easings.BounceEaseOut});t.play()},slideLeaderBoardUp:function(){var e=_app.screens[3];var t=new Kinetic.Tween({node:e,duration:1,y:0-e.height(),easing:Kinetic.Easings.BounceEaseIn});t.play()},showPauseMenu:function(e){e.y(0);e.draw()},hidePauseMenu:function(e){e.y(0-e.height());e.draw()},backToMainMenu:function(){_app.screens[0].y(0);_app.screens[0].draw();_app.screens[1].y(0-_app.screens[1].height());_app.screens[1].draw();_app.screens[6].visible(false).draw();_app.screens[8].visible(false).draw();_app.screens[9].visible(false).draw();var e=_app.screens[5],t;for(t=0;t<e.length;t++){e[t].visible(false).opacity(0).draw()}},animateClickables:function(){var e=_app.screens[5],t=[],n;console.log(e);for(var r=0;r<e.length;r++){e[r].visible(true);e[r].draw()}},a:function(e,t){if(e.length>t){var n=new Kinetic.Tween({node:e[t],opacity:1,visible:true,duration:.001,easing:Kinetic.Easings.EaseOut,onFinish:function(){console.log(t);if(t+1>=e.length){console.log("dun");_animation.animateCountDown()}else{_animation.a(e,t+1)}}});n.play()}else{}},animateCountDown:function(){var e=_app.screens[7],t=e.find("#READY_TXT")[0],n=e.find("#SET_TXT")[0],r=e.find("#GO_TXT")[0];e.visible(true);if(_gamePlay.isPaused){_gamePlay.resetGameStats()}var i=new Kinetic.Tween({node:t,opacity:1,duration:.3,onFinish:function(){i.reverse();setTimeout(function(){s.play()},300)}});var s=new Kinetic.Tween({node:n,opacity:1,duration:.3,onFinish:function(){s.reverse();setTimeout(function(){o.play()},300)}});var o=new Kinetic.Tween({node:r,opacity:1,duration:.3,onFinish:function(){o.reverse();setTimeout(function(){e.visible(false).draw();_app.screens[6].visible(true).draw();_app.screens[8].visible(true).draw();_app.screens[9].visible(true).draw();_gamePlay.startGame()},0)}});i.play()},updateTimerBar:function(e){var t=e.find("#TIMER_BAR")[0];t.width(t.width()-this.timerBarOffset);e.draw()},clearClickedInteractions:function(e){var t=_app.screens[5];for(var n=0;n<t.length;n++){if(e.indexOf(t[n].id())!=-1){t[n].children[1].opacity(1);t[n].draw()}}},updateBoardLayers:function(e){var t=_app.screens[5],n;for(var r=0;r<t.length;r++){n=e[r];t[r].children[0].children[0].setImage(_characters[n].img);t[r].draw()}},showAllBoardLayers:function(){var e=_app.screens[5];for(var t=0;t<e.length;t++){e[t].children[1].opacity(0);e[t].draw()}},hideAllBoardLayers:function(){var e=_app.screens[5];for(var t=0;t<e.length;t++){e[t].children[1].opacity(1);e[t].draw()}},updateScore:function(e,t){var n=_app.screens[1].find("#GAME_SCORE_TXT")[0];n.text(this.fiveDigit(t));_app.screens[1].draw()},findMeSwivel:new Kinetic.Animation(function(e){var t=_app.screens[9]},_app.screens[9]),showWhatToFind:function(e){var t=_app.screens[8].find("#TARGET_IMG")[0];t.setImage(_characters[e].img);_app.screens[8].draw()},resetTimerBar:function(){var e=_app.screens[1].find("#TIMER_BAR")[0],t=_app.screens[1].find("#TIMER_BAR_PARENT")[0];e.width(t.width());_app.screens[1].draw()},endGameAnimations:function(){_app.screens[7].visible(true);var e=_app.screens[7].find("#GAME_OVER_TXT")[0],t=new Kinetic.Tween({node:e,opacity:1,duration:1,onFinish:function(){t.reverse();setTimeout(function(){_app.screens[7].visible(false);_animation.slidePostGameDown()},1e3)}});var n=_app.screens[10].find("#END_GAME_SCORE_TXT")[0];n.text("Your score is "+this.fiveDigit(_gamePlay.score)+" pts");_app.screens[10].draw();t.play()},slidePostGameUp:function(){var e=_app.screens[10];var t=new Kinetic.Tween({node:e,duration:1,y:0-e.height(),easing:Kinetic.Easings.BounceEaseIn,onFinish:function(){_animation.animateCountDown()}});t.play()},slidePostGameDown:function(){var e=_app.screens[10];var t=new Kinetic.Tween({node:e,duration:1,y:0,easing:Kinetic.Easings.BounceEaseOut,onFinish:function(){}});t.play()},hidePostGame:function(){_app.screens[10].y(0-_app.screens[10].height()).draw()},slideHelpViewDown:function(){var e=_app.screens[11];var t=new Kinetic.Tween({node:e,duration:1,y:0,easing:Kinetic.Easings.BounceEaseOut});t.play()},slideHelpViewUp:function(){var e=_app.screens[11];var t=new Kinetic.Tween({node:e,duration:1,y:0-e.height(),easing:Kinetic.Easings.BounceEaseIn});t.play()},updateNumberPieces:function(e){var t;if(e=="standby"){t="Find "+_gamePlay.level+" of me"}else if(e=="positive"){t="You got it!"}else if(e=="negative"){t="No, no. It's not!"}_app.screens[8].find("#TIMES_TEXT")[0].text(t);_app.screens[8].draw()},enlargeButton:function(e){var t=e;t.width(t.width()+t.width()*.2);t.height(t.height()+t.height()*.2);t.x(t.x()-t.width()*.1);return t},shrinkButton:function(e){var t=e;t.width(t.width()-t.width()*.166666666666666);t.height(t.height()-t.height()*.166666666666666);t.x(t.x()+t.width()*.01);return t},updateGameGridCharacters:function(e,t){var n=t.find(".GAME_GRID_ELEM"),r;for(var i=0;i<e.length;i++){r=n[i].children[1];r.text(e[i])}t.draw()},fiveDigit:function(e){var t="000000000"+e;return t.substr(t.length-5)}};var __cordova={init:function(){}};_app.resources.__init();window.onload=function(){console.log("Starting application...!");_app.__init__()}